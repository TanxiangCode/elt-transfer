(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["eltabletransfer"]=e():t["eltabletransfer"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"48e9":function(t,e,n){"use strict";var a=n("76a3"),i=n.n(a);i.a},"76a3":function(t,e,n){},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(a){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(a.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},fb15:function(t,e,n){"use strict";var a;(n.r(e),"undefined"!==typeof window)&&(n("f6fd"),(a=window.document.currentScript)&&(a=a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=a[1]));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"transfer"},[n("div",{staticClass:"transfer-panel"},[n("p",{staticClass:"transfer-panel-header"},[n("span",[t._v(t._s(t.titleTexts&&t.titleTexts[0]))]),n("span",[t._v(t._s(t.leftSelection.length)+"/"+t._s(t.leftTableData.length))])]),n("el-table",{ref:"leftTable",attrs:{size:"small","max-height":t.maxHeight,height:t.minHeight,data:t.leftTableData,"row-style":t.handleRowStyle,border:"",stripe:""},on:{"row-click":t.handleLeftRowClick,"selection-change":t.handleLeftSelectionChange}},[n("el-table-column",{attrs:{width:"40px",type:"selection",selectable:t.handleSelectable}}),t._l(t.leftColumns,function(e){return n("el-table-column",{key:e.id,attrs:{prop:e.id,label:e.label,width:e.width},scopedSlots:t._u([{key:"default",fn:function(n){return[t._t("default",null,{scope:{row:n.row,col:e}})]}}],null,!0)})})],2),t.showPagination?n("el-pagination",{attrs:{"current-page":t.pageIndex,"page-sizes":[10,20,50,100],"page-size":t.pageSize,"pager-count":5,total:t.totalSize,layout:"total, sizes, prev, pager, next"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1),n("div",{staticClass:"transfer-buttons"},[n("el-button",{class:t.buttonClasses,attrs:{type:"primary",disabled:t.disabledLeftButton},nativeOn:{click:function(e){return t.addToRight(e)}}},[void 0!==t.buttonTexts[0]?n("span",{staticClass:"button-text"},[t._v(t._s(t.buttonTexts[0]))]):t._e(),n("i",{staticClass:"el-icon-arrow-right"})]),n("el-button",{class:t.buttonClasses,attrs:{type:"primary",disabled:0===t.rightSelection.length},nativeOn:{click:function(e){return t.addToLeft(e)}}},[n("i",{staticClass:"el-icon-arrow-left"}),void 0!==t.buttonTexts[1]?n("span",{staticClass:"button-text"},[t._v(t._s(t.buttonTexts[1]))]):t._e()])],1),n("div",{staticClass:"transfer-panel"},[n("p",{staticClass:"transfer-panel-header"},[n("span",[t._v(t._s(t.titleTexts&&t.titleTexts[1]))]),n("span",[t._v(t._s(t.rightSelection.length)+"/"+t._s(t.rightTableData.length))])]),n("el-table",{ref:"rightTable",attrs:{size:"small","max-height":t.maxHeight,height:t.minHeight,data:t.rightTableData,border:"",stripe:""},on:{"row-click":t.handleRightRowClick,"selection-change":t.handleRightSelectionChange}},[n("el-table-column",{attrs:{width:"40px",type:"selection"}}),t._l(t.rightColumns||t.leftColumns,function(e){return n("el-table-column",{key:e.id,attrs:{prop:e.id,label:e.label,width:e.width},scopedSlots:t._u([{key:"default",fn:function(n){return[t._t("default",null,{scope:{row:n.row,col:e}})]}}],null,!0)})})],2),t.showPagination?n("el-pagination",{attrs:{total:t.rightTableData.length,layout:"total"}}):t._e()],1)])},l=[],r={props:{value:{type:Array,default(){return[]}},showPagination:{type:Boolean,default:!1},paginationCallBack:{type:Function,default:function(){return{total:0,data:null}}},titleTexts:{type:Array,default(){return["待选项","已选项"]}},buttonTexts:{type:Array,default(){return[]}},leftColumns:{type:Array,default(){return[]}},rightColumns:{type:Array,default(){}},minHeight:{type:String,default:"300px"},maxHeight:{type:String,default:"500px"}},data(){return{leftTableData:[],rightTableData:this.value||[],pageIndex:1,pageSize:20,totalSize:100,leftSelection:[],rightSelection:[]}},created(){this.handlePaginationCallBack()},computed:{hasButtonTexts(){return 2===this.buttonTexts.length},buttonClasses(){return["transfer-button",{"is-with-texts":this.hasButtonTexts}]},disabledLeftButton(){return!this.leftSelection.some(t=>-1===this.rightTableData.indexOf(t))}},methods:{handleLeftSelectionChange(t){this.leftSelection=t},handleRightSelectionChange(t){this.rightSelection=t},handleLeftRowClick(t){-1===this.rightTableData.indexOf(t)&&this.$refs.leftTable.toggleRowSelection(t)},handleRightRowClick(t){this.$refs.rightTable.toggleRowSelection(t)},handleSizeChange(t){this.pageSize=t,this.handlePaginationCallBack()},handleCurrentChange(t){this.pageIndex=t,this.handlePaginationCallBack()},handlePaginationCallBack(){if(this.showPagination&&this.paginationCallBack){let t=this.paginationCallBack.call(null,this.pageIndex,this.pageSize);t&&Array.isArray(t.data)&&(this.leftTableData=t.data,this.totalSize=t.total),this.$nextTick(()=>{this.leftTableData.forEach(t=>{let e=this.rightTableData.indexOf(t);this.$refs.leftTable.toggleRowSelection(t,-1!==e)})})}},handleRowStyle({row:t}){return-1!==this.rightTableData.indexOf(t)?{color:"blue"}:{}},handleSelectable(t){return-1===this.rightTableData.indexOf(t)},addToRight(){for(let t of this.leftSelection){let e=this.rightTableData.indexOf(t);-1===e&&this.rightTableData.push(t)}this.$emit("input",this.rightTableData)},addToLeft(){this.rightSelection.forEach(t=>{let e=this.rightTableData.indexOf(t);-1!==e&&(this.rightTableData.splice(e,1),this.$refs.leftTable.toggleRowSelection(t,!1))}),this.$emit("input",this.rightTableData)}}},o=r;n("48e9");function s(t,e,n,a,i,l,r,o){var s,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),a&&(c.functional=!0),l&&(c._scopeId="data-v-"+l),r?(s=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=s):i&&(s=o?function(){i.call(this,this.$root.$options.shadowRoot)}:i),s)if(c.functional){c._injectStyles=s;var u=c.render;c.render=function(t,e){return s.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,s):[s]}return{exports:t,options:c}}var c=s(o,i,l,!1,null,"052558d2",null),u=c.exports;u.install=function(t){t.component(u.name,u)};var h=u;const f=[h];function d(t){f.map(e=>{t.component(e.name,e)})}void 0!==typeof window&&window.Vue&&d(window.Vue);var p={eltTransfer:h,install:d};e["default"]=p}})});
//# sourceMappingURL=eltabletransfer.umd.min.js.map